import './polyfills.server.mjs';
import{a as E}from"./chunk-LR6OTSCM.mjs";import{a as M}from"./chunk-GR3J6XBL.mjs";import"./chunk-2UYROUIQ.mjs";import{c as O,e as _,h as T,i as I,j as D,l as v,n as L,o as N,q as k,r as q,z as A}from"./chunk-EMJB2YGO.mjs";import{a as B}from"./chunk-CB27RKX2.mjs";import{a as F}from"./chunk-3QQ5QWEE.mjs";import"./chunk-OBY7IK52.mjs";import{Ca as C,Fc as S,Ga as l,Gb as m,Ha as c,Pb as P,Xa as p,Y as b,Za as s,ad as y,bd as x,ib as o,jb as n,kb as d,rb as h,tb as f,zc as w}from"./chunk-JRUE2OIN.mjs";import"./chunk-VVCT4QZE.mjs";function G(t,g){t&1&&(o(0,"span"),m(1,"email required"),n())}function j(t,g){if(t&1&&(o(0,"div",24),p(1,G,2,0,"span",25),n()),t&2){let e,r=f();l(),s("ngIf",(e=r.forgetPasswordForm.get("email"))==null?null:e.getError("required"))}}function R(t,g){t&1&&(o(0,"span"),m(1,"otp required"),n())}function V(t,g){if(t&1&&(o(0,"div",24),p(1,R,2,0,"span",25),n()),t&2){let e,r=f();l(),s("ngIf",(e=r.forgetPasswordForm.get("otp"))==null?null:e.getError("required"))}}function z(t,g){t&1&&d(0,"i",26)}var te=(()=>{class t{constructor(e,r,i,a){this._DataService=e,this._AuthService=r,this.toastr=i,this._Router=a,this.bannerTitle="forget password",this.isLoading=!1,this.countryList=[],this.forgetPasswordForm=new D({email:new v("",[_.required]),otp:new v("",[_.required])})}ngOnInit(){this.getSettings(),this.getCountries()}getSettings(){this._DataService.getSetting().subscribe({next:e=>{console.log(e.data);let r=e.data.find(a=>a.option_key==="logo");this.logo=r?.option_value[0];let i=e.data.find(a=>a.option_key==="site_title");this.siteTitle=i?.option_value[0]},error:e=>{}})}getCountries(){this._DataService.getCountries().subscribe({next:e=>{console.log(e.data),this.countryList=e.data}})}handleForgetPassForm(){this.forgetPasswordForm.valid&&(this.isLoading=!0,this._AuthService.setOTP(this.forgetPasswordForm.value).subscribe({next:e=>{e.status==!0&&(console.log(e),this.isLoading=!1,this.toastr.success(e.message))},error:e=>{console.error(e),this.toastr.error(e.error.message,"Enter the correct otp code")}}))}static{this.\u0275fac=function(r){return new(r||t)(c(F),c(E),c(M),c(y))}}static{this.\u0275cmp=b({type:t,selectors:[["app-forget-password"]],standalone:!0,features:[P],decls:33,vars:9,consts:[[1,"mb-5"],[3,"bannerTitle"],[1,"my-5","py-5"],[1,"container"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"specialBorder","bg-white","p-4","sideBar"],[1,"text-center"],["width","200px","height","70px",3,"src","alt","title"],[1,"fs-5"],[1,"",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],[1,"item","position-relative"],["type","email","id","email","formControlName","email","placeholder","Your Email ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa-regular","fa-envelope","textMainColor"],["class","alert alert-danger mt-2",4,"ngIf"],["for","otp",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","number","id","otp","formControlName","otp","placeholder","Your otp code",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa","fa-code","textMainColor"],["type","submit",1,"mainBtn","Btn","mb-3","w-100",3,"disabled"],["class","fa-solid fa-spinner fa-spin me-1 border-0 bg-transparent text-white",4,"ngIf"],[1,"fa","fa-paper-plane","mx-2","border-0","bg-transparent","text-white"],[1,"my-2","text-center"],["routerLink","/signup",1,"textMainColor","fw-bold","cPointer"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin","me-1","border-0","bg-transparent","text-white"]],template:function(r,i){if(r&1&&(o(0,"div",0),d(1,"app-banner",1),n(),o(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),d(7,"img",7),o(8,"p",8),m(9,"Create your tavelo account"),n()(),o(10,"form",9),h("ngSubmit",function(){return i.handleForgetPassForm()}),o(11,"div",10)(12,"label",11),m(13,"email address"),n(),o(14,"div",12),d(15,"input",13)(16,"i",14),n(),p(17,j,2,1,"div",15),n(),o(18,"div",10)(19,"label",16),m(20,"otp code"),n(),o(21,"div",12),d(22,"input",17)(23,"i",18),n(),p(24,V,2,1,"div",15),n(),o(25,"button",19),p(26,z,1,0,"i",20),d(27,"i",21),m(28," log in "),n()(),o(29,"p",22),m(30," Don't have an account? "),o(31,"span",23),m(32,"Sign Up."),n()()()()()()),r&2){let a,u;l(),s("bannerTitle",i.bannerTitle),l(6),s("src",i.logo,C)("alt",i.siteTitle)("title",i.siteTitle),l(3),s("formGroup",i.forgetPasswordForm),l(7),s("ngIf",((a=i.forgetPasswordForm.get("email"))==null?null:a.errors)&&((a=i.forgetPasswordForm.get("email"))==null?null:a.touched)),l(7),s("ngIf",((u=i.forgetPasswordForm.get("otp"))==null?null:u.errors)&&((u=i.forgetPasswordForm.get("otp"))==null?null:u.touched)),l(),s("disabled",i.forgetPasswordForm.invalid),l(),s("ngIf",i.isLoading)}},dependencies:[x,A,L,O,N,T,I,k,q,S,w,B],styles:['.item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:12px;left:15px}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-datetime-edit{color:transparent}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus::-webkit-datetime-edit, .item[_ngcontent-%COMP%]   input[type=date].filled[_ngcontent-%COMP%]::-webkit-datetime-edit{color:inherit}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{position:relative}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:before{content:attr(data-placeholder);position:absolute;left:2.5rem;top:50%;transform:translateY(-50%);color:#616879}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus:before, .item[_ngcontent-%COMP%]   input[type=date].filled[_ngcontent-%COMP%]:before{content:""}']})}}return t})();export{te as ForgetPasswordComponent};
