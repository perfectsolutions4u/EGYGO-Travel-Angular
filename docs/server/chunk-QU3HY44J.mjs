import './polyfills.server.mjs';
import{a as M}from"./chunk-43LS2CST.mjs";import{a as N}from"./chunk-GR3J6XBL.mjs";import"./chunk-2UYROUIQ.mjs";import{c as P,e as x,h as z,i as Y,j,l as f,n as A,o as H,q as G,r as U,z as $}from"./chunk-EMJB2YGO.mjs";import{a as V}from"./chunk-CB27RKX2.mjs";import{a as F}from"./chunk-3QQ5QWEE.mjs";import"./chunk-OBY7IK52.mjs";import{Ba as C,Ca as v,Cc as I,Fc as k,Ga as r,Gb as l,Ha as h,Hb as u,Ib as b,Pb as E,Qb as T,Rb as w,Wb as S,Y as y,Yb as _,Za as s,Zc as L,bd as R,eb as p,gb as c,hb as g,ib as t,jb as i,kb as o,rb as D,tb as B}from"./chunk-JRUE2OIN.mjs";import"./chunk-VVCT4QZE.mjs";var q=()=>[],W=a=>["/blog",a];function O(a,d){if(a&1&&(t(0,"div",17)(1,"figure",43),o(2,"img",44),i()()),a&2){let e=B();r(2),s("src",e.blogDetails.gallery[0],v)("alt",e.blogDetails.title)("title",e.blogDetails.title)}}function J(a,d){if(a&1&&(t(0,"button",20),l(1),i()),a&2){let e=d.$implicit;r(),b(" ",e," ")}}function K(a,d){if(a&1&&(t(0,"div",24)(1,"div",45)(2,"figure",46),o(3,"img",47),i(),t(4,"figcaption",48)(5,"div",12),o(6,"i",13),t(7,"span"),l(8),S(9,"date"),i()(),t(10,"h4",49),l(11),i()()()()),a&2){let e=d.$implicit;r(3),s("src",e.featured_image,v)("alt",e.title)("title",e.title),r(5),u(_(9,5,e.created_at,"dd-MMM-YYYY")),r(3),b(" ",e.title," ")}}function Q(a,d){if(a&1&&(t(0,"li",38)(1,"p",50),o(2,"i",51),t(3,"span"),l(4),i()()()),a&2){let e=d.$implicit;s("routerLink",w(2,W,e.id)),r(4),u(e.title)}}function X(a,d){if(a&1&&(t(0,"div",40)(1,"figure",52),o(2,"img",53),i(),t(3,"figcaption",48)(4,"div",12),o(5,"i",13),t(6,"span"),l(7),S(8,"date"),i()(),t(9,"h4",54),l(10),i()()()),a&2){let e=d.$implicit;s("routerLink",w(9,W,e.slug)),r(2),s("src",e.featured_image,v)("alt",e.title)("title",e.title),r(5),u(_(8,6,e.created_at,"dd-MMM-YYYY")),r(3),b(" ",e.title," ")}}function Z(a,d){if(a&1&&(t(0,"button",20),l(1),i()),a&2){let e=d.$implicit;r(),b(" ",e," ")}}var ce=(()=>{class a{constructor(e,m,n){this._DataService=e,this._ActivatedRoute=m,this.toaster=n,this.bannerTitle="",this.blogParam="",this.blogDetails={},this.tags=[],this.blogs=[],this.blogListById={},this.isListId=!1,this.isLoading=!1,this.blogCategories=[]}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{console.log(e),this.blogParam=e.get("slug"),isNaN(Number(this.blogParam))?this._DataService.getBlogs(this.blogParam).subscribe({next:m=>{console.log(m.data),this.blogDetails=m.data,this.bannerTitle=this.blogDetails.title,console.log(this.bannerTitle),this.isListId=!1,m.data.created_at=this.formatDate(m.data.created_at),this.tags=this.blogDetails.tags.split(",").map(n=>n.trim())}}):this._DataService.getCategoriesBlog(this.blogParam).subscribe({next:m=>{console.log(m.data),this.blogListById=m.data,this.bannerTitle=this.blogListById.title,console.log(this.bannerTitle),this.isListId=!0,m.data.created_at=this.formatDate(m.data.created_at)}})}}),this.showBlogs(),this.showCategoriesBlog(),this.writeReview=new j({reviewer_name:new f(""),rate:new f("",[x.required,x.min(0),x.max(5)]),content:new f(""),tour_id:new f(null)})}getWriteReview(){this.writeReview.valid&&(console.log(this.writeReview.value),this.isLoading=!0,this._DataService.postReviews(this.writeReview.value).subscribe({next:e=>{console.log(e),e.status==!0&&(this.toaster.success(e.message),this.isLoading=!1)}}),this.writeReview.reset())}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"2-digit"})}showBlogs(){this._DataService.getBlogs().subscribe({next:e=>{this.blogs=e.data.data},error:e=>{}})}showCategoriesBlog(){this._DataService.getCategoriesBlog().subscribe({next:e=>{this.blogCategories=e.data.data},error:e=>{}})}static{this.\u0275fac=function(m){return new(m||a)(h(F),h(L),h(N))}}static{this.\u0275cmp=y({type:a,selectors:[["app-blog-details"]],standalone:!0,features:[E],decls:82,vars:10,consts:[[1,"mb-5"],[3,"bannerTitle"],[1,"my-5"],[1,"container"],[1,"row","g-3","justify-content-center"],[1,"col-xl-8","col-lg-10","order-2","order-xl-1","pe-3"],[1,"pb-4","border-bottom"],[1,"mb-4","specialBorder","overflow-hidden","imgHovver"],[1,"w-100",3,"src","title","alt"],[1,"mb-4"],[1,"text-black","text-capitalize","fw-bold"],[1,"flexBetween","flex-wrap","mb-3","mt-0","py-3","border-bottom"],[1,"me-3"],[1,"fa","fa-calendar-days","me-2"],[1,"fa","fa-comment-alt","me-2"],[1,"mb-4",3,"innerHTML"],[1,"row","g-3","mb-4"],[1,"col-lg-6"],[1,"pt-3","h4","fw-bold","text-black","mb-0"],[1,"py-3","flexCenter","justify-content-start","flex-wrap","gap-3"],[1,"Btn","mainBtn","px-3","py-1","text-capitalize"],[1,"pt-3","h4","fw-bold","text-black","mb-3"],[1,"bgMainColor","rounded-3","p-3"],[1,"row","g-3","my-4"],[1,"col-md-6"],[1,"p-sm-5","p-3","rounded-3","shadow-lg"],[1,"pb-3","fw-bold","text-black"],[1,"row","g-3","mt-4",3,"ngSubmit","formGroup"],["type","text","formControlName","reviewer_name","placeholder","Name...",1,"form-control"],["type","number","placeholder","Rate...","formControlName","rate",1,"form-control"],[1,"col-12"],["placeholder","Message...","name","message","rows","5","formControlName","content",1,"form-control"],["type","submit",1,"mainBtn","Btn","flexCenter","gap-2","mx-2","mb-2"],[1,"fa","fa-arrow-right","fa-rotate-by","bgPrimaryWhiteColor","rounded-circle","overflow-hidden"],[1,"col-xl-4","col-lg-10","order-1","order-xl-2"],[1,"text-capitalize","p-4","rounded-3","sideBar","mb-4"],[1,"headTitle","pb-2","mb-2","fw-bold","text-black"],[1,"list-unstyled","categoryList"],[1,"flexBetween","py-2","border-bottom","cPointer",3,"routerLink"],[1,"sideBar","mb-4","p-4","rounded-3"],[1,"d-flex","mt-3",3,"routerLink"],[1,"sideBar","p-4","rounded-3","my-4"],[1,"py-3","flexCenter","justify-content-start","flex-wrap","gap-2","row-gap-3"],[1,"imgHover","mb-0","rounded-3","overflow-hidden"],["height","400px",1,"w-100",3,"src","alt","title"],[1,"d-flex"],[1,"mb-0","rounded-3","overflow-hidden","imgHover","flex-shrink-0"],["width","100px",1,"h-100",3,"src","alt","title"],[1,"ps-3"],[1,"text-capitalize","fw-bold","cPointer","h5"],[1,"mb-0"],[1,"fa","fa-angle-double-right","me-2","textSecondColor"],[1,"overflow-hidden","flex-shrink-0"],["width","100px","height","90px",1,"specialBorder",3,"src","alt","title"],[1,"text-capitalize","fw-bold","cPointer","h6"]],template:function(m,n){m&1&&(t(0,"div",0),o(1,"app-banner",1),i(),t(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"figure",7),o(8,"img",8),i(),t(9,"div",9)(10,"h2",10),l(11),i(),t(12,"div",11)(13,"div",12),o(14,"i",13),t(15,"span"),l(16),i()(),t(17,"div",12),o(18,"i",14),t(19,"span"),l(20),i()()()(),o(21,"div",15),t(22,"div",16),c(23,O,3,3,"div",17,p),i()(),t(25,"div")(26,"h5",18),l(27,"Popular Tags"),i(),t(28,"div",19),c(29,J,2,1,"button",20,p),i()(),t(31,"div")(32,"h5",21),l(33,"share"),i(),t(34,"div",22),o(35,"app-social"),i()(),t(36,"div",23),c(37,K,12,8,"div",24,p),i(),t(39,"div",25)(40,"h5",26),l(41,"Leave A Comments"),i(),t(42,"p"),l(43," Your email address will not be published. Required fields are marked * "),i(),t(44,"form",27),D("ngSubmit",function(){return n.getWriteReview()}),t(45,"div",24)(46,"div"),o(47,"input",28),i()(),t(48,"div",24)(49,"div"),o(50,"input",29),i()(),t(51,"div",30)(52,"div"),o(53,"textarea",31),i()(),t(54,"div")(55,"button",32),l(56," send comment "),o(57,"i",33),i()()()()(),t(58,"div",34)(59,"div")(60,"div",35)(61,"h5",36),l(62,"Categories"),i(),t(63,"ul",37),c(64,Q,5,4,"li",38,p),i()(),t(66,"div",39)(67,"h5",36),l(68,"Recent News"),i(),c(69,X,11,11,"div",40,p),i(),t(71,"div",41)(72,"h5",36),l(73,"follow us"),i(),t(74,"div",22),o(75,"app-social"),i()(),t(76,"div",41)(77,"h5",36),l(78,"Popular Tags"),i(),t(79,"div",42),c(80,Z,2,1,"button",20,p),i()()()()()()()),m&2&&(r(),s("bannerTitle",n.bannerTitle),r(7),s("src",n.blogDetails.featured_image,v)("title",n.blogDetails.title)("alt",n.blogDetails.title),r(3),b(" ",n.blogDetails.title," "),r(5),u(n.blogDetails.created_at),r(4),b("Comments ( ",n.blogDetails.display_order," )"),r(),s("innerHTML",n.blogDetails.description,C),r(2),g((n.blogDetails.gallery==null?null:n.blogDetails.gallery.slice(0,2))||T(9,q)),r(6),g(n.tags),r(8),g(n.blogs.slice(-2)),r(7),s("formGroup",n.writeReview),r(20),g(n.blogCategories),r(5),g(n.blogs.slice(-2)),r(11),g(n.tags))},dependencies:[V,R,k,I,M,$,A,P,H,z,Y,G,U]})}}return a})();export{ce as BlogDetailsComponent};
