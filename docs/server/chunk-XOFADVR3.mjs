import './polyfills.server.mjs';
import{g as U}from"./chunk-HDUIVDZC.mjs";import{a as R}from"./chunk-43LS2CST.mjs";import"./chunk-H2OL2XN4.mjs";import{a as j}from"./chunk-TJBNKF64.mjs";import"./chunk-7YM2NAZ7.mjs";import"./chunk-UN22GCXI.mjs";import"./chunk-GBSF5DJY.mjs";import"./chunk-GR3J6XBL.mjs";import{a as q}from"./chunk-TI425FMT.mjs";import{a as H,b as P,c as $}from"./chunk-25GPITRL.mjs";import"./chunk-2UYROUIQ.mjs";import{a as N}from"./chunk-CB27RKX2.mjs";import{a as B}from"./chunk-3QQ5QWEE.mjs";import"./chunk-OBY7IK52.mjs";import{Ba as b,Ca as y,Fb as w,Fc as O,Ga as o,Gb as m,Ha as g,Hb as h,Ib as I,Pb as F,Rb as _,Xa as c,Y as C,Za as l,Zb as k,Zc as z,bd as A,eb as S,gb as T,hb as E,ib as a,jb as n,kb as p,lb as f,mb as D,tb as d,yc as L,zc as M}from"./chunk-JRUE2OIN.mjs";import"./chunk-VVCT4QZE.mjs";var G=t=>["/destination",t];function J(t,s){if(t&1&&(a(0,"figure",24),p(1,"img",25),n()),t&2){let e=d().$implicit,i=d();o(),l("src",e,y)("alt",i.destinationDetails==null?null:i.destinationDetails.title)("title",i.destinationDetails==null?null:i.destinationDetails.title)}}function K(t,s){t&1&&(f(0),c(1,J,2,3,"ng-template",23),D())}function Q(t,s){if(t&1&&(a(0,"li",17)(1,"span",16),m(2),n()()),t&2){let e=d().$implicit;l("routerLink",_(2,G,e.slug)),o(2),h(e.title)}}function V(t,s){if(t&1&&c(0,Q,3,4,"li",26),t&2){let e=s.$implicit,i=d();l("ngIf",i.destinationDetails.title!==e.title)}}function W(t,s){if(t&1&&(a(0,"div",28),p(1,"app-tour-cart",29),n()),t&2){let e=s.$implicit;o(),l("tour",e)}}function X(t,s){if(t&1&&(f(0),c(1,W,2,1,"div",27),D()),t&2){let e=d();o(),l("ngForOf",e.filteredTours.slice(0,9))}}function Y(t,s){if(t&1&&(a(0,"h2",30),m(1),n()),t&2){let e=d();o(),I(" not tour avaliable in this destination '",e.destinationDetails.title,"' ")}}var gt=(()=>{class t{constructor(e,i){this._DataService=e,this._ActivatedRoute=i,this.destinationDetails={},this.destinationSlug="",this.AllDestination=[],this.tours=[],this.filteredTours=[],this.layoutType="grid",this.bannerTitle="",this.galleryOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,dots:!0,smartSpeed:1500,margin:20,responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!1}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.destinationSlug=e.get("slug"),this._DataService.getDestinationBySlug(this.destinationSlug).subscribe({next:i=>{this.destinationDetails=i.data,this.showTours(this.destinationSlug),this.bannerTitle=this.destinationDetails.title,console.log("destination Details title:",this.destinationDetails.title),console.log("destination Details:",this.destinationDetails)},error:i=>{console.error("Error fetching destination details:",i)}})}}),this.getDestinations()}getDestinations(){this._DataService.getDestination().subscribe({next:e=>{this.AllDestination=e.data.data}})}showTours(e){this._DataService.getTours().subscribe({next:i=>{this.tours=i.data.data,console.log("Tours Data:",this.tours,this.tours.length);for(let r=0;r<this.tours.length;r++){let u=this.tours[r],v=(u.destinations??[]).map(x=>x?.slug!=null?String(x.slug).toLowerCase().trim():"");v.includes(e.toLowerCase())&&this.filteredTours.push(u),console.log(v,this.filteredTours,e)}},error:i=>{console.error("Error fetching tours:",i)}})}static{this.\u0275fac=function(i){return new(i||t)(g(B),g(z))}}static{this.\u0275cmp=C({type:t,selectors:[["app-destination-details"]],standalone:!0,features:[F],decls:36,vars:10,consts:[["elseTemplate",""],[1,"mb-5"],[3,"bannerTitle"],[1,"my-5"],[1,"container"],[3,"options"],[4,"ngFor","ngForOf"],[1,"row","g-3"],[1,"col-lg-8","order-2","order-lg-1"],[1,"fw-bold","text-black","text-capitalize"],[3,"innerHTML"],[1,"col-lg-4","order-1","order-lg-2"],[1,"text-capitalize","bg-white","p-4","rounded-3","sideBar"],[1,"pb-3","border-bottom","fw-bold","text-black"],[1,"list-unstyled","mb-5"],[1,"py-2","border-bottom","cPointer","bg-secondary","bg-opacity-25","text-sm-center","rounded-3",3,"routerLink"],[1,"textMainColor","fs-5"],[1,"py-2","border-bottom","cPointer",3,"routerLink"],[1,"pb-1","fw-bold","text-black"],[1,"p-3","rounded-3","bgMainColor","opacity-50"],[1,"my-5","pt-5"],[1,"row","g-3","mb-5"],[4,"ngIf","ngIfElse"],["carouselSlide",""],[1,"rounded-3","overflow-hidden","imgHover"],["loading","lazy","height","300px",1,"w-100",3,"src","alt","title"],["class","py-2 border-bottom cPointer",3,"routerLink",4,"ngIf"],["class","col-xl-4 col-lg-6 px-3",4,"ngFor","ngForOf"],[1,"col-xl-4","col-lg-6","px-3"],[3,"tour"],[1,"text-danger","text-capitalize"]],template:function(i,r){if(i&1&&(a(0,"div",1),p(1,"app-banner",2),n(),a(2,"section",3)(3,"div",4)(4,"owl-carousel-o",5),c(5,K,2,0,"ng-container",6),n()()(),a(6,"section",3)(7,"div",4)(8,"div",7)(9,"div",8)(10,"div")(11,"h5",9),m(12,"description"),n(),p(13,"p",10),n()(),a(14,"div",11)(15,"div",12)(16,"h5",13),m(17,"Information"),n(),a(18,"ul",14)(19,"li",15)(20,"span",16),m(21),n()(),T(22,V,1,1,"li",17,S),n(),a(24,"h5",18),m(25,"share"),n(),a(26,"div",19),p(27,"app-social"),n()()()()()(),a(28,"section",20)(29,"div",4)(30,"div",21),c(31,X,2,1,"ng-container",22)(32,Y,2,1,"ng-template",null,0,k),n(),p(34,"app-faq-content"),n()(),p(35,"app-partner-slider")),i&2){let u=w(33);o(),l("bannerTitle",r.bannerTitle),o(3),l("options",r.galleryOptions),o(),l("ngForOf",r.destinationDetails.gallery),o(8),l("innerHTML",r.destinationDetails==null?null:r.destinationDetails.description,b),o(6),l("routerLink",_(8,G,r.destinationDetails.slug)),o(2),h(r.destinationDetails.title),o(),E(r.AllDestination),o(9),l("ngIf",r.filteredTours.length!=0)("ngIfElse",u)}},dependencies:[A,$,P,H,O,L,M,R,j,U,q,N]})}}return t})();export{gt as DestinationDetailsComponent};
