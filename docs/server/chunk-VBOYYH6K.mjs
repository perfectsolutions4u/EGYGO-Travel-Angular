import './polyfills.server.mjs';
import{a as Y}from"./chunk-LR6OTSCM.mjs";import{a as B}from"./chunk-GR3J6XBL.mjs";import"./chunk-2UYROUIQ.mjs";import{c as A,e as g,h as G,i as j,j as V,l as f,n as U,q as $,r as H,s as J,t as K,u as Q,z as W}from"./chunk-EMJB2YGO.mjs";import{a as X}from"./chunk-CB27RKX2.mjs";import{a as R}from"./chunk-3QQ5QWEE.mjs";import"./chunk-OBY7IK52.mjs";import{$a as M,Ca as w,Fc as L,Ga as o,Gb as l,Ha as _,Hb as O,Pb as N,Xa as d,Y as E,Ya as F,Za as m,ad as k,bd as z,eb as T,gb as I,hb as P,ib as n,jb as t,kb as u,rb as q,tb as c,zc as D}from"./chunk-JRUE2OIN.mjs";import"./chunk-VVCT4QZE.mjs";function Z(e,p){e&1&&(n(0,"span"),l(1,"name required"),t())}function ee(e,p){if(e&1&&(n(0,"div",40),d(1,Z,2,0,"span",41),t()),e&2){let i,a=c();o(),m("ngIf",(i=a.registerForm.get("name"))==null?null:i.getError("required"))}}function te(e,p){e&1&&(n(0,"span"),l(1,"email required"),t())}function ie(e,p){if(e&1&&(n(0,"div",40),d(1,te,2,0,"span",41),t()),e&2){let i,a=c();o(),m("ngIf",(i=a.registerForm.get("email"))==null?null:i.getError("required"))}}function ne(e,p){e&1&&(n(0,"span"),l(1,"password required"),t())}function re(e,p){if(e&1&&(n(0,"div",40),d(1,ne,2,0,"span",41),t()),e&2){let i,a=c();o(),m("ngIf",(i=a.registerForm.get("password"))==null?null:i.getError("required"))}}function oe(e,p){e&1&&(n(0,"span"),l(1,"password_confirmation not matched "),t())}function ae(e,p){if(e&1&&(n(0,"div",40),d(1,oe,2,0,"span",41),t()),e&2){let i,a=c();o(),m("ngIf",(i=a.registerForm.get("password_confirmation"))==null?null:i.getError("required"))}}function le(e,p){e&1&&(n(0,"span"),l(1,"phone required"),t())}function me(e,p){if(e&1&&(n(0,"div",40),d(1,le,2,0,"span",41),t()),e&2){let i,a=c();o(),m("ngIf",(i=a.registerForm.get("phone"))==null?null:i.getError("required"))}}function pe(e,p){e&1&&(n(0,"span"),l(1,"birthDate required"),t())}function de(e,p){if(e&1&&(n(0,"div",40),d(1,pe,2,0,"span",41),t()),e&2){let i,a=c();o(),m("ngIf",(i=a.registerForm.get("birthDate"))==null?null:i.getError("required"))}}function se(e,p){if(e&1&&(n(0,"option",34),l(1),t()),e&2){let i=p.$implicit;m("value",i.name),o(),O(i.name)}}function ue(e,p){e&1&&(n(0,"span"),l(1,"nationality required"),t())}function ce(e,p){if(e&1&&(n(0,"div",40),d(1,ue,2,0,"span",41),t()),e&2){let i,a=c();o(),m("ngIf",(i=a.registerForm.get("nationality"))==null?null:i.getError("required"))}}function ge(e,p){e&1&&u(0,"i",42)}var Fe=(()=>{class e{constructor(i,a,r,s){this._DataService=i,this._AuthService=a,this.toastr=r,this._Router=s,this.bannerTitle="sign up",this.isLoading=!1,this.countryList=[],this.registerForm=new V({name:new f("",[g.required]),email:new f("",[g.required]),password:new f("",[g.required]),password_confirmation:new f("",[g.required]),phone:new f("",[g.required]),birthdate:new f("",[g.required]),nationality:new f("",[g.required])})}ngOnInit(){this.getSettings(),this.getCountries()}getSettings(){this._DataService.getSetting().subscribe({next:i=>{console.log(i.data);let a=i.data.find(s=>s.option_key==="logo");this.logo=a?.option_value[0];let r=i.data.find(s=>s.option_key==="site_title");this.siteTitle=r?.option_value[0]},error:i=>{}})}getCountries(){this._DataService.getCountries().subscribe({next:i=>{console.log(i.data),this.countryList=i.data}})}handleRegisterForm(){this.registerForm.valid?(this.isLoading=!0,this._AuthService.setRegister(this.registerForm.value).subscribe({next:i=>{i.status==!0&&(this.isLoading=!1,this.toastr.success(i.message),this._Router.navigate(["/login"]))},error:i=>{this.isLoading=!1,this.toastr.error(i.error.message)}})):this.toastr.error("Your Data is Not valid")}static{this.\u0275fac=function(a){return new(a||e)(_(R),_(Y),_(B),_(k))}}static{this.\u0275cmp=E({type:e,selectors:[["app-signup"]],standalone:!0,features:[N],decls:72,vars:17,consts:[[1,"mb-5"],[3,"bannerTitle"],[1,"my-5","py-5"],[1,"container"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"specialBorder","bg-white","p-4","sideBar"],[1,"text-center"],["width","200px","height","70px",3,"src","alt","title"],[1,"fs-5"],[1,"",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],[1,"item","position-relative"],["type","text","id","name","formControlName","name","placeholder","Your Name ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa-regular","fa-user","textMainColor"],["class","alert alert-danger mt-2",4,"ngIf"],["for","email",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","email","id","email","formControlName","email","placeholder","Your Email ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa-regular","fa-envelope","textMainColor"],["for","password",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","password","id","password","formControlName","password","placeholder","Your Password ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa","fa-lock","textMainColor"],["for","password_confirmation",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","password","id","password_confirmation","formControlName","password_confirmation","placeholder","Your Password Confirmation ",1,"form-control","p-2","ps-5","rounded-3"],["for","phone",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","tel","id","phone","formControlName","phone","placeholder","Your Phone ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa","fa-phone","textMainColor"],["for","birthdate",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","date","id","birthdate","formControlName","birthdate",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa-regular","fa-calendar-alt","textMainColor"],["for","nationality",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],[1,"item"],["formControlName","nationality","id","nationality","formControlName","nationality",1,"form-control","text-capitalize"],["value","","selected","","disabled","",1,"bg-body-secondary"],[3,"value"],["type","submit",1,"mainBtn","Btn","mb-3","w-100",3,"disabled"],["class","fa-solid fa-spinner fa-spin me-1 border-0 bg-transparent text-white",4,"ngIf"],[1,"fa","fa-paper-plane","mx-2","border-0","bg-transparent","text-white"],[1,"my-2","text-center"],["routerLink","/login",1,"textMainColor","fw-bold","cPointer"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin","me-1","border-0","bg-transparent","text-white"]],template:function(a,r){if(a&1&&(n(0,"div",0),u(1,"app-banner",1),t(),n(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),u(7,"img",7),n(8,"p",8),l(9,"Create your tavelo account"),t()(),n(10,"form",9),q("ngSubmit",function(){return r.handleRegisterForm()}),n(11,"div",10)(12,"label",11),l(13,"full name"),t(),n(14,"div",12),u(15,"input",13)(16,"i",14),t(),d(17,ee,2,1,"div",15),t(),n(18,"div",10)(19,"label",16),l(20,"email address"),t(),n(21,"div",12),u(22,"input",17)(23,"i",18),t(),d(24,ie,2,1,"div",15),t(),n(25,"div",10)(26,"label",19),l(27,"password"),t(),n(28,"div",12),u(29,"input",20)(30,"i",21),t(),d(31,re,2,1,"div",15),t(),n(32,"div",10)(33,"label",22),l(34,"password_confirmation"),t(),n(35,"div",12),u(36,"input",23)(37,"i",21),t(),d(38,ae,2,1,"div",15),t(),n(39,"div",10)(40,"label",24),l(41,"phone number"),t(),n(42,"div",12),u(43,"input",25)(44,"i",26),t(),d(45,me,2,1,"div",15),t(),n(46,"div",10)(47,"label",27),l(48,"birth date"),t(),n(49,"div",12),u(50,"input",28)(51,"i",29),t(),d(52,de,2,1,"div",15),t(),n(53,"div",10)(54,"label",30),l(55,"nationality"),t(),n(56,"div",31)(57,"select",32)(58,"option",33),l(59," select your nationality "),t(),I(60,se,2,2,"option",34,T),t()(),d(62,ce,2,1,"div",15),t(),n(63,"button",35),d(64,ge,1,0,"i",36),u(65,"i",37),l(66," sign up "),t()(),n(67,"p",38),l(68," Already have an account? "),n(69,"span",39),l(70,"Login"),t(),l(71," . "),t()()()()()),a&2){let s,v,S,h,C,y,b,x;o(),m("bannerTitle",r.bannerTitle),o(6),m("src",r.logo,w)("alt",r.siteTitle)("title",r.siteTitle),o(3),m("formGroup",r.registerForm),o(7),m("ngIf",((s=r.registerForm.get("name"))==null?null:s.errors)&&((s=r.registerForm.get("name"))==null?null:s.touched)),o(7),m("ngIf",((v=r.registerForm.get("email"))==null?null:v.errors)&&((v=r.registerForm.get("email"))==null?null:v.touched)),o(7),m("ngIf",((S=r.registerForm.get("password"))==null?null:S.errors)&&((S=r.registerForm.get("password"))==null?null:S.touched)),o(7),m("ngIf",((h=r.registerForm.get("password_confirmation"))==null?null:h.errors)&&((h=r.registerForm.get("password_confirmation"))==null?null:h.touched)),o(7),m("ngIf",((C=r.registerForm.get("phone"))==null?null:C.errors)&&((C=r.registerForm.get("phone"))==null?null:C.touched)),o(5),M("filled",!!((y=r.registerForm.get("birthdate"))!=null&&y.value)),F("data-placeholder","Birth date"),o(2),m("ngIf",((b=r.registerForm.get("birthDate"))==null?null:b.errors)&&((b=r.registerForm.get("birthDate"))==null?null:b.touched)),o(8),P(r.countryList),o(2),m("ngIf",((x=r.registerForm.get("nationality"))==null?null:x.errors)&&((x=r.registerForm.get("nationality"))==null?null:x.touched)),o(),m("disabled",r.registerForm.invalid),o(),m("ngIf",r.isLoading)}},dependencies:[z,W,U,K,Q,A,J,G,j,$,H,L,D,X],styles:['.item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:12px;left:15px}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-datetime-edit{color:transparent}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus::-webkit-datetime-edit, .item[_ngcontent-%COMP%]   input[type=date].filled[_ngcontent-%COMP%]::-webkit-datetime-edit{color:inherit}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{position:relative}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:before{content:attr(data-placeholder);position:absolute;left:2.5rem;top:50%;transform:translateY(-50%);color:#616879}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus:before, .item[_ngcontent-%COMP%]   input[type=date].filled[_ngcontent-%COMP%]:before{content:""}']})}}return e})();export{Fe as SignupComponent};
