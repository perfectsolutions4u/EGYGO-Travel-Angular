import './polyfills.server.mjs';
import{a as Qe}from"./chunk-TG5RHDTU.mjs";import{a as Xe}from"./chunk-TJBNKF64.mjs";import{a as Ee}from"./chunk-GR3J6XBL.mjs";import{a as Ne,b as Be,c as je}from"./chunk-25GPITRL.mjs";import"./chunk-2UYROUIQ.mjs";import{c as Ve,h as Le,i as Re,j as ne,l as O,n as We,q as Ze,r as Ue,s as Ye,t as Ge,u as Ae,z as He}from"./chunk-EMJB2YGO.mjs";import{a as Je}from"./chunk-CB27RKX2.mjs";import{a as ke}from"./chunk-3QQ5QWEE.mjs";import{a as Fe}from"./chunk-OBY7IK52.mjs";import{$a as c,Ca as fe,Cb as Pe,Cc as Ie,Db as we,Eb as q,Ec as Me,Fc as Te,Ga as l,Gb as a,Ha as E,Hb as G,Ib as A,K as de,Ob as Se,Pb as z,Q as W,Sa as N,Ta as he,U as P,Ua as be,Va as _e,Wb as K,X as b,Xa as x,Xb as ee,Xc as ze,Y as D,Ya as ve,Za as f,_ as ce,ab as Ce,ad as Oe,b as R,ba as pe,ca as me,da as I,db as y,ea as M,eb as U,fa as ue,fb as xe,gb as V,ha as J,hb as L,ib as o,jb as r,kb as p,la as Z,ma as Q,na as _,oa as $,ob as T,oc as te,p as le,pb as ye,pc as ie,rb as C,tb as h,u as se,ua as ge,ub as Y,vb as B,zc as De}from"./chunk-JRUE2OIN.mjs";import{a as re,b as ae,h as X}from"./chunk-VVCT4QZE.mjs";function S(i){i||(pe(S),i=P(Z));let d=new R(e=>i.onDestroy(e.next.bind(e)));return e=>e.pipe(de(d))}var qe=[[["ngx-dropzone-label"]]],Ke=["ngx-dropzone-label"];function at(i,d){if(i&1){let e=T();o(0,"ngx-dropzone-remove-badge",0),C("click",function(t){I(e);let s=h();return M(s._remove(t))}),r()}}var lt=["fileInput"],st=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],dt=["ngx-dropzone-preview","*","ngx-dropzone-label"];function ct(i,d){i&1&&B(0,2)}function pt(i,d){if(i&1){let e=T();o(0,"ngx-dropzone-remove-badge",1),C("click",function(t){I(e);let s=h();return M(s._remove(t))}),r()}}var et=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=ce({type:i,selectors:[["ngx-dropzone-label"]],standalone:!0})}}return i})();function j(i){return i!=null&&`${i}`!="false"}function mt(i){return ut(i)?Number(i):0}function ut(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function oe(){return P(ge)==="browser"}function F(i,d,e){return le(n=>{(i.__zone_symbol__addEventListener||i.addEventListener).call(i,d,n,e)},n=>{(i.__zone_symbol__removeEventListener||i.removeEventListener).call(i,d,n,e)})}var tt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-dropzone-remove-badge"]],standalone:!0,features:[z],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(n,t){n&1&&(ue(),o(0,"svg"),p(1,"line",0)(2,"line",1),r())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"],changeDetection:0})}}return i})(),gt=!1,H=(()=>{class i{constructor(){if(this.file=_(),this.removable=_(!1,{transform:j}),this.removed=Q(),this._sanitizer=P(ze),this.tabIndex=0,oe()){let{nativeElement:e}=P($);F(e,"keyup").pipe(S()).subscribe(({keyCode:n})=>{(n===8||n===46)&&this.remove()})}}get hostStyle(){return this._sanitizer.bypassSecurityTrustStyle(`
			display: flex;
			height: 140px;
			min-height: 140px;
			min-width: 180px;
			max-width: 180px;
			justify-content: center;
			align-items: center;
			padding: 0 20px;
			margin: 10px;
			border-radius: 5px;
			position: relative;
		`)}_remove(e){e.stopPropagation(),this.remove()}remove(){this.removable()&&this.removed.emit(this.file())}_readFile(e){return new R(n=>{if(!e){n.error("No file to read. Please provide a file using the [file] Input property.");return}let t=new FileReader,s=se(F(t,"load"),F(t,"error")).subscribe(m=>{m.type==="load"?(n.next(t.result),n.complete()):(gt&&console.error(`FileReader failed on file ${this.file.name}.`),n.error(m))});return t.readAsDataURL(e),s})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(n,t){n&2&&(ye("tabindex",t.tabIndex),Ce(t.hostStyle))},inputs:{file:[b.SignalBased,"file"],removable:[b.SignalBased,"removable"]},outputs:{removed:"removed"},standalone:!0,features:[z],ngContentSelectors:Ke,decls:2,vars:1,consts:[[3,"click"]],template:function(n,t){n&1&&(Y(qe),B(0),x(1,at,1,0,"ngx-dropzone-remove-badge")),n&2&&(l(),y(1,t.removable()?1:-1))},dependencies:[tt],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"],changeDetection:0})}}return i})(),ft=(()=>{class i{parseFileList(e,n,t,s){let m=[],u=[];for(let k=0;k<e.length;k++){let g=e.item(k);if(!this.isAccepted(g,n)){this.rejectFile(u,g,"type");continue}if(t&&g.size>t){this.rejectFile(u,g,"size");continue}if(!s&&m.length>=1){this.rejectFile(u,g,"no_multiple");continue}m.push(g)}return{addedFiles:m,rejectedFiles:u}}isAccepted(e,n){if(n==="*")return!0;let t=n.split(",").map(v=>v.toLowerCase().trim()),s=e.type.toLowerCase(),m=e.name.toLowerCase();return!!t.find(v=>v.endsWith("/*")?s.split("/")[0]===v.split("/")[0]:v.startsWith(".")?m.endsWith(v):v==s)}rejectFile(e,n,t){let s=n;s.reason=t,e.push(s)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ht=!1,it=(()=>{class i{constructor(){this._service=P(ft),this._previewChildren=be(H,{descendants:!0}),this._hasPreviews=te(()=>!!this._previewChildren().length),this._fileInput=he.required("fileInput"),this.change=Q(),this.accept=_("*"),this.disabled=_(!1,{transform:j}),this.multiple=_(!0,{transform:j}),this.maxFileSize=_(0,{transform:mt}),this.expandable=_(!1,{transform:j}),this.disableClick=_(!1,{transform:j}),this.processDirectoryDrop=_(!1,{transform:j}),this.id=_(""),this.ariaLabel=_("",{alias:"aria-label"}),this.ariaLabelledby=_("",{alias:"aria-labelledby"}),this.ariaDescribedBy=_("",{alias:"aria-describedby"}),this._isHovered=N(!1),oe()&&this._setupEventListeners()}ngOnChanges(e){e.disabled&&this._isHovered()&&this._isHovered.set(!1)}showFileSelector(){this.disabled()||this._fileInput().nativeElement.click()}_onFilesSelected(e){let n=e.target,t=n.files;this._handleFileDrop(t),n.value="",this._preventDefault(e)}_handleFileDrop(e){let n=this._service.parseFileList(e,this.accept(),this.maxFileSize(),this.multiple());this.change.emit({addedFiles:n.addedFiles,rejectedFiles:n.rejectedFiles,source:this})}_preventDefault(e){e.preventDefault(),e.stopPropagation()}_setupEventListeners(){let{nativeElement:e}=P($);F(e,"click").pipe(S()).subscribe(()=>{this.disableClick()||this.showFileSelector()}),F(e,"dragover").pipe(S()).subscribe(n=>{this.disabled()||(this._preventDefault(n),this._isHovered.set(!0))}),F(e,"dragleave").pipe(S()).subscribe(()=>{this._isHovered.set(!1)}),F(e,"drop").pipe(S()).subscribe(n=>{if(this.disabled())return;if(this._preventDefault(n),this._isHovered.set(!1),!this.processDirectoryDrop||!globalThis.DataTransferItem?.prototype.webkitGetAsEntry){this._handleFileDrop(n.dataTransfer.files);return}let t=n.dataTransfer.items;if(t.length===0)return;let s=[],m=[];for(let g=0;g<t.length;g++){let w=t[g].webkitGetAsEntry();w&&(w.isFile?s.push(n.dataTransfer.files[g]):w.isDirectory&&m.push(w))}let u=new DataTransfer;s.forEach(g=>u.items.add(g));let v=m.length===0;if(v&&u.items.length&&this._handleFileDrop(u.files),v)return;let k=[];for(let g of m)k.push(bt(g));Promise.all(k).then(g=>{g.reduce((w,rt)=>[...w,...rt]).forEach(w=>{u.items.add(w)}),this._handleFileDrop(u.files)})})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(n,t,s){n&1&&Pe(s,t._previewChildren,H,5),n&2&&q()},viewQuery:function(n,t){n&1&&we(t._fileInput,lt,5),n&2&&q()},hostVars:8,hostBindings:function(n,t){n&2&&c("ngx-dz-disabled",t.disabled())("ngx-dz-hovered",t._isHovered())("unclickable",t.disableClick())("expandable",t.expandable())},inputs:{accept:[b.SignalBased,"accept"],disabled:[b.SignalBased,"disabled"],multiple:[b.SignalBased,"multiple"],maxFileSize:[b.SignalBased,"maxFileSize"],expandable:[b.SignalBased,"expandable"],disableClick:[b.SignalBased,"disableClick"],processDirectoryDrop:[b.SignalBased,"processDirectoryDrop"],id:[b.SignalBased,"id"],ariaLabel:[b.SignalBased,"aria-label","ariaLabel"],ariaLabelledby:[b.SignalBased,"aria-labelledby","ariaLabelledby"],ariaDescribedBy:[b.SignalBased,"aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},standalone:!0,features:[me,z],ngContentSelectors:dt,decls:5,vars:8,consts:[["fileInput",""],["type","file",3,"change","id","multiple","accept","disabled"]],template:function(n,t){if(n&1){let s=T();Y(st),o(0,"input",1,0),C("change",function(u){return I(s),M(t._onFilesSelected(u))}),r(),x(2,ct,1,0),B(3),B(4,1)}n&2&&(f("id",t.id())("multiple",t.multiple())("accept",t.accept())("disabled",t.disabled()),ve("aria-label",t.ariaLabel())("aria-labelledby",t.ariaLabelledby())("aria-describedby",t.ariaDescribedBy()),l(2),y(2,t._hasPreviews()?-1:2))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"],changeDetection:0})}}return i})();function bt(i){return new Promise(d=>{let e=[],n=i.createReader(),t=()=>{n.readEntries(s=>X(this,null,function*(){if(!s.length)d(e);else{let m=s.filter(u=>u.isFile);for(let u of m){let v=yield _t(u);v&&e.push(v)}t()}}))};t()})}function _t(i){return X(this,null,function*(){try{return yield new Promise((d,e)=>i.file(d,e))}catch(d){ht&&console.log("Error converting a fileEntry to a File: ",d);return}})}var nt=(()=>{class i extends H{constructor(){super(),this.file=_(),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=N(this._sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)),this._destroyRef=P(Z),oe()&&ie(()=>this._renderImage(this.file()))}_renderImage(e){this._readFile(e).pipe(S(this._destroyRef)).subscribe({next:n=>{this.imageSrc.set(n)},error:console.error})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:[b.SignalBased,"file"]},standalone:!0,features:[Se([{provide:H,useExisting:i}]),_e,z],ngContentSelectors:Ke,decls:3,vars:2,consts:[[3,"src"],[3,"click"]],template:function(n,t){n&1&&(Y(qe),p(0,"img",0),B(1),x(2,pt,1,0,"ngx-dropzone-remove-badge")),n&2&&(f("src",t.imageSrc(),fe),l(2),y(2,t.removable()?2:-1))},dependencies:[tt],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"],changeDetection:0})}}return i})();var ot=(()=>{class i extends Fe{getProfile(){return this.HttpClient.get(`${this.baseUrl}/profile/me`)}updateProfile(e){return this.HttpClient.patch(`${this.baseUrl}/profile`,e)}updateImageProfile(e){return this.HttpClient.post(`${this.baseUrl}/profile/change/image`,e)}logoutProfile(){return this.HttpClient.post(`${this.baseUrl}/profile/logout`,{})}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=J(i)))(t||i)}})()}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ct(i,d){if(i&1){let e=T();o(0,"ngx-dropzone-image-preview",24),C("removed",function(){let t=I(e).$implicit,s=h();return M(s.onRemove(t))}),r()}if(i&2){let e=d.$implicit;f("file",e)("removable",!0)}}function xt(i,d){i&1&&(o(0,"div",4)(1,"div",25)(2,"div",26)(3,"div",27)(4,"b",28),a(5,"120"),r(),o(6,"p",29),a(7,"total booking"),r()(),o(8,"div",30),p(9,"i",31),r()()(),o(10,"div",25)(11,"div",26)(12,"div",27)(13,"b",28),a(14,"120"),r(),o(15,"p",29),a(16,"favorite tour"),r()(),o(17,"div",32),p(18,"i",33),r()()()())}function yt(i,d){i&1&&(o(0,"div",22)(1,"h5",34),a(2,"profile info"),r(),o(3,"p")(4,"b",35),a(5,"Full Name:"),r(),a(6," Antoni Jonson"),r(),o(7,"p")(8,"b",35),a(9,"Email:"),r(),a(10," jonsonexample.com"),r(),o(11,"p")(12,"b",35),a(13,"Phone:"),r(),a(14,"+2 134 562 458"),r(),o(15,"p")(16,"b",35),a(17,"Address:"),r(),a(18,"New York, USA"),r(),o(19,"p")(20,"b",35),a(21,"Join Date:"),r(),a(22,"21 August, 2025"),r()())}function Pt(i,d){if(i&1&&(o(0,"b",41),a(1),r()),i&2){let e=h(2).$implicit;l(),A("",e.adults," adults")}}function wt(i,d){if(i&1&&(o(0,"b",41),a(1),r()),i&2){let e=h(2).$implicit;l(),A("",e.children," children")}}function St(i,d){if(i&1&&(o(0,"b",41),a(1),r()),i&2){let e=h(2).$implicit;l(),A("",e.infants," infants")}}function Dt(i,d){if(i&1&&(p(0,"app-tour-cart",38),o(1,"div",39)(2,"h6"),a(3," guest: "),x(4,Pt,2,1,"b",40),a(5," ,"),x(6,wt,2,1,"b",40),a(7," ,"),x(8,St,2,1,"b",40),r(),o(9,"h6"),a(10," total price : "),o(11,"b",41),a(12),K(13,"currency"),r()(),o(14,"h6"),a(15," booking date :"),o(16,"b",41),a(17),K(18,"date"),r()()()),i&2){let e=h().$implicit;f("tour",e.tour),l(4),f("ngIf",e.adults),l(2),f("ngIf",e.children),l(2),f("ngIf",e.infants),l(4),G(ee(13,6,e.totalPrice)),l(5),G(ee(18,8,e.start_date))}}function It(i,d){i&1&&x(0,Dt,19,10,"ng-template",37)}function Mt(i,d){if(i&1&&(o(0,"owl-carousel-o",36),V(1,It,1,0,null,37,U),r()),i&2){let e=h(2);f("options",e.bookingOptions),l(),L(e.tourCart)}}function Tt(i,d){i&1&&(o(0,"h2",42),a(1,"no tour in booking cart"),r())}function zt(i,d){if(i&1&&x(0,Mt,3,1,"owl-carousel-o",36)(1,Tt,2,0),i&2){let e=h();y(0,e.haveData?0:1)}}function Ot(i,d){if(i&1&&p(0,"app-tour-cart",38),i&2){let e=h().$implicit;f("tour",e.tour)}}function Ft(i,d){i&1&&x(0,Ot,1,1,"ng-template",37)}function kt(i,d){if(i&1&&(o(0,"owl-carousel-o",36),V(1,Ft,1,0,null,37,U),r()),i&2){let e=h(2);f("options",e.bookingOptions),l(),L(e.favList)}}function Et(i,d){i&1&&(o(0,"h2",42),a(1,"no tour in wishlist"),r())}function Nt(i,d){if(i&1&&x(0,kt,3,1,"owl-carousel-o",36)(1,Et,2,0),i&2){let e=h();y(0,e.haveData?0:1)}}function Bt(i,d){if(i&1&&(o(0,"option",61),a(1),r()),i&2){let e=d.$implicit;f("value",e.name),l(),G(e.name)}}function jt(i,d){if(i&1){let e=T();o(0,"form",43),C("ngSubmit",function(){I(e);let t=h();return M(t.submitProfileData())}),o(1,"div",25)(2,"div",44)(3,"label",45),a(4,"full name"),r(),o(5,"div",46),p(6,"input",47)(7,"i",48),r()()(),o(8,"div",25)(9,"div",44)(10,"label",49),a(11," phone"),r(),o(12,"div",46),p(13,"input",50)(14,"i",51),r()()(),o(15,"div",25)(16,"div",44)(17,"label",52),a(18,"password"),r(),o(19,"div",46),p(20,"input",53)(21,"i",54),r()()(),o(22,"div",25)(23,"div",44)(24,"label",55),a(25,"password_confirmation"),r(),o(26,"div",46),p(27,"input",56)(28,"i",54),r()()(),o(29,"div",57)(30,"div",44)(31,"label",58),a(32,"nationality"),r(),o(33,"div",46)(34,"select",59)(35,"option",60),a(36,"select your nationality"),r(),V(37,Bt,2,2,"option",61,U),r(),p(39,"i",62),r()()(),o(40,"div")(41,"button",63),a(42," update profile info "),r()()()}if(i&2){let e=h();f("formGroup",e.updateProfile),l(37),L(e.countriesList)}}var yi=(()=>{class i{constructor(e,n,t,s,m){this._DataService=e,this._BookingService=n,this._ProfileService=t,this._Router=s,this.toaster=m,this.bannerTitle="my profile",this.countriesList=[],this.tourCart=[],this.favList=[],this.haveData=!1,this.profilemeData={},this.files=N([]),this.selectedTab="dashboard",this.bookingOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,dots:!0,smartSpeed:1500,margin:50,responsive:{0:{items:1},586:{items:2}},nav:!1}}ngOnInit(){this.showCountries(),this.profileMe(),this.updateProfile=new ne({name:new O(""),password:new O(""),password_confirmation:new O(""),phone:new O(""),nationality:new O("")}),this.updateImage=new ne({image:new O("")}),this.getListCart(),this.getFav()}onSelect(e){let n=e?.addedFiles??[];if(!n.length)return;let t=n[0];this.files.set([t]),this.uploadImage(t)}onRemove(e){this.files.set([])}uploadImage(e){let n=new FormData;n.append("image",e),this._ProfileService.updateImageProfile(n).subscribe({next:t=>{console.log("Uploaded \u2705",t),this.toaster.success("Profile image updated")},error:t=>{console.error("Upload error \u274C",t),this.toaster.error(t?.error?.message||"Upload failed")}})}getListCart(){this._BookingService.getCartList().subscribe({next:e=>{this.tourCart=e.data,this.tourCart.length===0?(this.haveData=!1,console.log(this.tourCart)):(this.tourCart=e.data.map(n=>ae(re({},n),{totalPrice:n.adults*n.tour.adult_price+n.children*n.tour.child_price+n.infants*n.tour.infant_price})),this.haveData=!0,console.log(this.tourCart))},error:e=>{console.log(e)}})}showCountries(){this._BookingService.getCountries().subscribe({next:e=>{console.log(e.data),this.countriesList=e.data}})}submitProfileData(){if(this.updateProfile.valid){let e=this.updateProfile.value;console.log(e),this._ProfileService.updateProfile(e).subscribe({next:n=>{console.log(n),this.toaster.success(n.error.message)},error:n=>{console.log(n),this.toaster.error(n.error.message)}})}else console.log("nooooo")}profileMe(){this._ProfileService.getProfile().subscribe({next:e=>{this.profilemeData=e.data,console.log(this.profilemeData)},error:e=>{console.log(e)}})}logout(){this._ProfileService.logoutProfile().subscribe({next:e=>{localStorage.removeItem("accessToken"),this._Router.navigate([""]),this.toaster.success(e.message)},error:e=>{this.toaster.error(e.error.message)}})}getFav(){this._DataService.getWishlist().subscribe({next:e=>{localStorage.getItem("accessToken")&&(this.favList=e.data.data,console.log(e.data.data),this.favList.length===0?(this.haveData=!1,console.log(this.favList.length)):(this.haveData=!0,console.log(e.data.data),this.favList=e.data.data))},error:e=>{}})}static{this.\u0275fac=function(n){return new(n||i)(E(ke),E(Qe),E(ot),E(Oe),E(Ee))}}static{this.\u0275cmp=D({type:i,selectors:[["app-profile"]],standalone:!0,features:[z],decls:50,vars:79,consts:[[1,"mb-5"],[3,"bannerTitle"],[1,"my-5"],[1,"container"],[1,"row","g-3"],[1,"col-lg-4"],[1,"border","specialBorder","bg-white","p-3"],[1,"imgBox","mx-auto"],[3,"change","accept"],[1,"dz-thumb",3,"file","removable"],[1,"textSecondColor","text-center","mt-2","pb-3","bs-popover-bottom"],[1,"text-capitalize","mb-0","fw-bold"],[1,""],[1,"list-unstyled","text-capitalize"],["role","button",1,"mb-2","p-2","specialBorder",3,"click"],[1,"fa","fa-gauge","me-2"],[1,"fa","fa-id-card","me-2"],[1,"fa","fa-clipboard-list","me-2"],[1,"fa","fa-heart-circle-plus","me-2"],[1,"fa","fa-gear","me-2"],[1,"fa","fa-arrow-right-from-bracket","me-2"],[1,"col-lg-8"],[1,"p-4","border","sideBar","rounded-3","textSecondColor","text-capitalize"],[1,"row","g-3",3,"formGroup"],[1,"dz-thumb",3,"removed","file","removable"],[1,"col-md-6"],[1,"p-3","specialBorder","border","flexBetween"],[1,"textSecondColor"],[1,"fs-3"],[1,"mb-1","text-capitalize"],[1,"iconBox","m-0","bg-transparent","text-danger"],[1,"fa","fa-shopping-cart"],[1,"iconBox","m-0","bg-white","text-danger"],[1,"fa","fa-heart-circle-plus"],[1,"fw-bold","mb-3","pb-3","border-bottom"],[1,"me-5"],[3,"options"],["carouselSlide",""],[3,"tour"],[1,"text-capitalize","textSecondColor","mt-4"],["class","textMainColor",4,"ngIf"],[1,"textMainColor"],[1,"text-danger","text-capitalize"],[1,"row","g-3",3,"ngSubmit","formGroup"],[1,"mb-2"],["for","name",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],[1,"item","position-relative"],["type","text","id","name","formControlName","name","placeholder","Your Full Name ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa","fa-file-signature","textMainColor"],["for","phone",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","tel","id","phone","formControlName","phone","placeholder","Your phone ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa","fa-phone-volume","textMainColor"],["for","password",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","password","id","password","formControlName","password","placeholder","Your Password ",1,"form-control","p-2","ps-5","rounded-3"],[1,"fa","fa-lock","textMainColor"],["for","password_confirmation",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["type","password","id","password_confirmation","formControlName","password_confirmation","placeholder","Your Password Confirmation ",1,"form-control","p-2","ps-5","rounded-3"],[1,"col-12"],["for","nationality",1,"textSecondColor","text-capitalize","fw-bold","mb-2"],["id","nationality","formControlName","nationality",1,"form-control","p-2","ps-5","rounded-3"],["selected","","disabled",""],[3,"value"],[1,"fa","fa-globe","textMainColor"],["type","submit",1,"Btn","mainBtn"]],template:function(n,t){n&1&&(o(0,"div",0),p(1,"app-banner",1),r(),o(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"ngx-dropzone",8),C("change",function(m){return t.onSelect(m)}),o(9,"ngx-dropzone-label"),a(10,"Upload Your Image"),r(),V(11,Ct,1,2,"ngx-dropzone-image-preview",9,xe),r()(),o(13,"div",10)(14,"h5",11),a(15,"Antoni Jonson"),r(),o(16,"p",12),a(17,"jonsonexample.com"),r()(),o(18,"ul",13)(19,"li",14),C("click",function(){return t.selectedTab="dashboard"}),p(20,"i",15),o(21,"span"),a(22,"dashboard"),r()(),o(23,"li",14),C("click",function(){return t.selectedTab="myProfile"}),p(24,"i",16),o(25,"span"),a(26,"my profile"),r()(),o(27,"li",14),C("click",function(){return t.selectedTab="myBooking"}),p(28,"i",17),o(29,"span"),a(30,"my booking"),r()(),o(31,"li",14),C("click",function(){return t.selectedTab="myWishlist"}),p(32,"i",18),o(33,"span"),a(34,"my wishlist"),r()(),o(35,"li",14),C("click",function(){return t.selectedTab="setting"}),p(36,"i",19),o(37,"span"),a(38,"settings"),r()(),o(39,"li",14),C("click",function(){return t.logout()})("click",function(){return t.selectedTab="logout"}),p(40,"i",20),o(41,"span"),a(42,"logout"),r()()()()(),o(43,"div",21)(44,"div"),x(45,xt,19,0,"div",4)(46,yt,23,0,"div",22)(47,zt,2,1)(48,Nt,2,1)(49,jt,43,1,"form",23),r()()()()()),n&2&&(l(),f("bannerTitle",t.bannerTitle),l(7),f("accept","image/*"),l(3),L(t.files()),l(8),c("bg-transparent",t.selectedTab!=="dashboard")("bgMainColor",t.selectedTab==="dashboard"),l(),c("textMainColor",t.selectedTab!=="dashboard")("text-white",t.selectedTab==="dashboard"),l(),c("textSecondColor",t.selectedTab!=="dashboard")("text-white",t.selectedTab==="dashboard"),l(2),c("bg-transparent",t.selectedTab!=="myProfile")("bgMainColor",t.selectedTab==="myProfile"),l(),c("textMainColor",t.selectedTab!=="myProfile")("text-white",t.selectedTab==="myProfile"),l(),c("textSecondColor",t.selectedTab!=="myProfile")("text-white",t.selectedTab==="myProfile"),l(2),c("bg-transparent",t.selectedTab!=="myBooking")("bgMainColor",t.selectedTab==="myBooking"),l(),c("textMainColor",t.selectedTab!=="myBooking")("text-white",t.selectedTab==="myBooking"),l(),c("textSecondColor",t.selectedTab!=="myBooking")("text-white",t.selectedTab==="myBooking"),l(2),c("bg-transparent",t.selectedTab!=="myWishlist")("bgMainColor",t.selectedTab==="myWishlist"),l(),c("textMainColor",t.selectedTab!=="myWishlist")("text-white",t.selectedTab==="myWishlist"),l(),c("textSecondColor",t.selectedTab!=="myWishlist")("text-white",t.selectedTab==="myWishlist"),l(2),c("bg-transparent",t.selectedTab!=="setting")("bgMainColor",t.selectedTab==="setting"),l(),c("textMainColor",t.selectedTab!=="setting")("text-white",t.selectedTab==="setting"),l(),c("textSecondColor",t.selectedTab!=="setting")("text-white",t.selectedTab==="setting"),l(2),c("bg-transparent",t.selectedTab!=="logout")("bgMainColor",t.selectedTab==="logout"),l(),c("textMainColor",t.selectedTab!=="logout")("text-white",t.selectedTab==="logout"),l(),c("textSecondColor",t.selectedTab!=="logout")("text-white",t.selectedTab==="logout"),l(4),y(45,t.selectedTab==="dashboard"?45:-1),l(),y(46,t.selectedTab==="myProfile"?46:-1),l(),y(47,t.selectedTab==="myBooking"?47:-1),l(),y(48,t.selectedTab==="myWishlist"?48:-1),l(),y(49,t.selectedTab==="setting"?49:-1))},dependencies:[it,et,nt,Te,De,Me,Ie,He,We,Ge,Ae,Ve,Ye,Le,Re,Ze,Ue,je,Be,Ne,Xe,Je],styles:['.imgBox{width:150px;height:150px}  .imgBox ngx-dropzone{width:100%!important;height:100%!important;border:1px solid rgba(183,183,183,.6)!important;border-radius:50px 50px 50px 0;justify-content:center;overflow:hidden}  .imgBox ngx-dropzone .dz-thumb{max-width:180px}p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{width:80px;display:inline-block}.item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:12px;left:15px}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-datetime-edit{color:transparent}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus::-webkit-datetime-edit, .item[_ngcontent-%COMP%]   input[type=date].filled[_ngcontent-%COMP%]::-webkit-datetime-edit{color:inherit}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{position:relative}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:before{content:attr(data-placeholder);position:absolute;left:2.5rem;top:50%;transform:translateY(-50%);color:#616879}.item[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus:before, .item[_ngcontent-%COMP%]   input[type=date].filled[_ngcontent-%COMP%]:before{content:""}'],changeDetection:0})}}return i})();export{yi as ProfileComponent};
